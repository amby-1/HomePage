<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alumni - Mechatronics Laboratory</title>
    <link rel="stylesheet" href="../css/style.css">
</head>

<body>

<div id="site-header"></div>
<script src="../js/header-en.js"></script>

<main class="container">
        <h2>Alumni</h2>
        <div id="alumni-container">
            <p>Loading...</p>
        </div>

        <div style="margin-top: 20px;">
            <a href="members.html">&lt; Back to Current Members</a>
        </div>
    </main>

    <div id="site-footer"></div>
    <script src="../js/footer-en.js"></script>

    <script src="../data/members.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const container = document.getElementById('alumni-container');
            container.innerHTML = '';

            if (typeof membersData !== 'undefined') {
                const alumni = membersData.filter(m => m.year !== 'current');
                const years = [...new Set(alumni.map(m => m.year))].sort().reverse();

                years.forEach(year => {
                    const yearSection = document.createElement('section');
                    const h3 = document.createElement('h3');
                    h3.textContent = `FY ${year}`;
                    yearSection.appendChild(h3);

                    const ul = document.createElement('ul');

                    const membersInYear = alumni.filter(m => m.year === year);
                    membersInYear.forEach(m => {
                        const li = document.createElement('li');
                        const name = m.name_en || m.name;
                        const role = m.role_en || m.role;
                        li.textContent = `${name} (${role})`;
                        ul.appendChild(li);
                    });

                    yearSection.appendChild(ul);
                    container.appendChild(yearSection);
                });

                if (alumni.length === 0) {
                    container.textContent = "No alumni information available yet.";
                }
            } else {
                document.getElementById('alumni-container').textContent = 'Error loading data.';
            }
        });
    </script>

</body>

</html>
